# AlphaDAPR - AI ç¹ªç•«å¿ƒç†è©•ä¼°ç³»çµ± (GitHub Pages ç‰ˆæœ¬)

åŸºæ–¼ [AlphaDAPR](https://github.com/your-org/alpha-dapr-copilot) çš„ç´”å‰ç«¯ç‰ˆæœ¬ï¼Œå¯éƒ¨ç½²åˆ° GitHub Pagesã€‚

## åŠŸèƒ½ç‰¹è‰²

- ğŸ¨ **ç¹ªç•«åŠŸèƒ½**: åœ¨ç€è¦½å™¨ä¸­ç¹ªè£½ã€Œé›¨ä¸­äººã€(DAPR) å¿ƒç†è©•ä¼°åœ–
- ğŸ” **AI ç‰©ä»¶åµæ¸¬**: ä½¿ç”¨ ONNX Runtime Web åœ¨ç€è¦½å™¨ç«¯åŸ·è¡Œ YOLOv8 æ¨¡å‹æ¨è«–ï¼ˆæˆ– placeholder æ¨¡å¼ï¼‰
- ğŸ“Š **DAPR è©•åˆ†**: å®Œæ•´çš„ 35 é … DAPR è©•åˆ†ç³»çµ±ï¼Œè‡ªå‹•è¨ˆç®—å£“åŠ›èˆ‡è³‡æºåˆ†æ•¸
- ğŸ“ˆ **åˆ†æå„€è¡¨æ¿**: åµæ¸¬çµæœè¦–è¦ºåŒ–ã€åˆ†æ•¸åˆ†å¸ƒåœ–ã€ç›¸ä¼¼ç´ æã€ç´ æå›æ”¾
- ğŸ’¾ **æœ¬åœ°å„²å­˜**: æ‰€æœ‰è³‡æ–™å­˜åœ¨ç€è¦½å™¨ IndexedDBï¼Œç„¡éœ€å¾Œç«¯ä¼ºæœå™¨
- ğŸš€ **å…ç™»å…¥ä½¿ç”¨**: é–‹å•Ÿå³å¯ç›´æ¥ä½¿ç”¨ï¼Œè‡ªå‹•å»ºç«‹é è¨­ä½¿ç”¨è€…

## æŠ€è¡“æ¶æ§‹

- **å‰ç«¯æ¡†æ¶**: Vue 3 + Vite
- **UI å…ƒä»¶**: Element Plus (ç¹é«”ä¸­æ–‡)
- **åœ–è¡¨**: ECharts
- **ç‹€æ…‹ç®¡ç†**: Pinia
- **æœ¬åœ°è³‡æ–™åº«**: IndexedDB (Dexie.js)
- **AI æ¨è«–**: ONNX Runtime Web (WebGL / WebAssembly)

## å¿«é€Ÿé–‹å§‹

### å®‰è£

```bash
npm install
```

### æœ¬åœ°ç«¯åŸ·è¡Œ

```bash
npm run dev
```

å•Ÿå‹•å¾Œç€è¦½å™¨é–‹å•Ÿ http://localhost:5173/ å³å¯ä½¿ç”¨ã€‚

> è‹¥ port 5173 è¢«ä½”ç”¨ï¼ŒVite æœƒè‡ªå‹•é¸æ“‡å…¶ä»– portï¼ˆå¦‚ 5174ï¼‰ï¼Œè«‹ä¾çµ‚ç«¯æ©Ÿé¡¯ç¤ºçš„ç¶²å€é–‹å•Ÿã€‚

### å»ºç½®

```bash
npm run build
```

### éƒ¨ç½²åˆ° GitHub Pages

#### æ–¹æ³•ä¸€ï¼šGitHub Actions è‡ªå‹•éƒ¨ç½²ï¼ˆæ¨è–¦ï¼‰

æœ¬å°ˆæ¡ˆå·²å…§å»º `.github/workflows/deploy.yml`ï¼Œæ¯æ¬¡ push åˆ° `main` branch æœƒè‡ªå‹•å»ºç½®ä¸¦éƒ¨ç½²ã€‚

**é¦–æ¬¡è¨­å®šæ­¥é©Ÿï¼š**

1. åœ¨ GitHub å»ºç«‹ repo ä¸¦æ¨é€ç¨‹å¼ç¢¼ï¼š
   ```bash
   git init
   git add -A
   git commit -m "Initial commit"
   gh repo create <ä½ çš„å¸³è™Ÿ>/<repoåç¨±> --public --source=. --push
   ```

2. å•Ÿç”¨ GitHub Pagesï¼ˆé¸æ“‡ GitHub Actions ä½œç‚ºä¾†æºï¼‰ï¼š
   ```bash
   gh api repos/<ä½ çš„å¸³è™Ÿ>/<repoåç¨±>/pages -X POST \
     --input - <<'EOF'
   {"build_type":"workflow","source":{"branch":"main","path":"/"}}
   EOF
   ```

3. è§¸ç™¼éƒ¨ç½²ï¼ˆpush ä¸€æ¬¡å³å¯ï¼‰ï¼š
   ```bash
   git commit --allow-empty -m "Trigger deploy"
   git push origin main
   ```

4. ç­‰å¾…ç´„ 1-2 åˆ†é˜ï¼Œå³å¯åœ¨ä»¥ä¸‹ç¶²å€å­˜å–ï¼š
   ```
   https://<ä½ çš„å¸³è™Ÿ>.github.io/<repoåç¨±>/
   ```

**ä¹‹å¾Œæ›´æ–°ï¼š** åªè¦ push åˆ° `main`ï¼ŒActions æœƒè‡ªå‹•é‡æ–°å»ºç½®éƒ¨ç½²ã€‚

#### æ–¹æ³•äºŒï¼šæ‰‹å‹•éƒ¨ç½² dist åˆ° gh-pages branch

```bash
npm run build
cd dist
git init
git checkout -b gh-pages
git add -A
git commit -m 'deploy'
git push -f git@github.com:<ä½ çš„å¸³è™Ÿ>/<repoåç¨±>.git gh-pages
```

ç„¶å¾Œåˆ° GitHub repo **Settings â†’ Pages**ï¼Œå°‡ Source è¨­ç‚º `gh-pages` branchã€‚

### ä½¿ç”¨ ONNX æ¨¡å‹ï¼ˆå¯é¸ï¼‰

è‹¥è¦å•Ÿç”¨çœŸæ­£çš„ YOLOv8 åµæ¸¬ï¼š

1. å°‡ YOLOv8 æ¨¡å‹è½‰æ›ç‚º ONNX æ ¼å¼
2. å°‡ `dapr.onnx` æ”¾å…¥ `public/models/` ç›®éŒ„
3. é‡æ–°å»ºç½®éƒ¨ç½²

è‹¥ç„¡ ONNX æ¨¡å‹ï¼Œç³»çµ±æœƒä½¿ç”¨ placeholder åµæ¸¬æ¨¡å¼ã€‚

## èˆ‡åŸå§‹ç‰ˆæœ¬çš„å·®ç•°

| åŠŸèƒ½ | åŸå§‹ç‰ˆæœ¬ | GitHub Pages ç‰ˆæœ¬ |
|------|---------|-------------------|
| å¾Œç«¯ | Python FastAPI | ç„¡ï¼ˆç´”å‰ç«¯ JSï¼‰ |
| è³‡æ–™åº« | PostgreSQL/SQLite | IndexedDB (ç€è¦½å™¨) |
| AI æ¨è«– | PyTorch (ä¼ºæœå™¨) | ONNX Runtime Web (ç€è¦½å™¨) |
| èªè­‰ | JWT + bcrypt | å…ç™»å…¥ï¼ˆè‡ªå‹•é è¨­ä½¿ç”¨è€…ï¼‰ |
| éƒ¨ç½² | Docker Compose | GitHub Pages (éœæ…‹) |

## æ›´æ–°ç´€éŒ„

### 2026-03-01 â€” å•Ÿç”¨çœŸå¯¦ ONNX æ¨¡å‹æ¨è«–

#### ä¿®æ­£è¾¨è­˜æº–ç¢ºåº¦ï¼ˆé—œéµä¿®æ­£ï¼‰

| ä¿®æ­£é …ç›® | èªªæ˜ |
|---------|------|
| ğŸ”´ **å•Ÿç”¨çœŸå¯¦ ONNX æ¨¡å‹** | ä¹‹å‰ `useOnnx` é è¨­ç‚º `false`ï¼Œæ‰€æœ‰åµæ¸¬çµæœçš†ç‚ºéš¨æ©Ÿç”¢ç”Ÿï¼ˆplaceholderï¼‰ã€‚ç¾å·²æ”¹ç‚ºé è¨­ `true`ï¼Œä½¿ç”¨ SceneDAPR è¨“ç·´çš„ YOLOv8 æ¨¡å‹é€²è¡ŒçœŸæ­£çš„ç‰©ä»¶åµæ¸¬ |
| ğŸ”´ **ä¿®æ­£ CLASS_NAMES é †åº** | æ¨¡å‹è¨“ç·´é †åºç‚º `[rain, umbrella, person, ...]`ï¼Œä½†ç¨‹å¼ç¢¼åŸç‚º `[person, rain, umbrella, ...]`ï¼Œå°è‡´é¡åˆ¥å°æ‡‰å…¨éƒ¨éŒ¯èª¤ã€‚å·²ä¿®æ­£åŒ¹é…è¨“ç·´è³‡æ–™ |
| ğŸ”´ **éƒ¨ç½² ONNX æ¨¡å‹æª”æ¡ˆ** | å°‡ SceneDAPR `yolov8-all.pt` è½‰æ›ç‚º ONNX æ ¼å¼ä¸¦æ”¾ç½®æ–¼ `public/models/dapr.onnx`ï¼ˆ11.7 MBï¼‰ |
| âœ… **Per-class ä¿¡å¿ƒé–¾å€¼** | æ–°å¢å„é¡åˆ¥å°ˆå±¬é–¾å€¼ï¼ˆperson/umbrella: 0.5, rain: 0.35, lightning/cloud/puddle: 0.3ï¼‰ï¼ŒåŒ¹é… copilot å¾Œç«¯è¨­å®š |
| âœ… **æœ€å°é¢ç©éæ¿¾** | éæ¿¾é¢ç© < 100pxÂ² çš„å¾®å°èª¤åµæ¸¬ |
| âœ… **ONNX å¤±æ•—è‡ªå‹•é™ç´š** | è‹¥æ¨¡å‹è¼‰å…¥å¤±æ•—ï¼Œè‡ªå‹• fallback è‡³ placeholder æ¨¡å¼ï¼Œç¢ºä¿åŠŸèƒ½å¯ç”¨ |

### 2026-03-01 â€” æå‡è¾¨è­˜æ•ˆç‡èˆ‡ç§»é™¤ç™»å…¥

#### ç§»é™¤ç™»å…¥é é¢
- ç§»é™¤ç™»å…¥/è¨»å†Š/ç™»å‡ºæµç¨‹ï¼Œé–‹å•Ÿå³å¯ç›´æ¥ä½¿ç”¨
- è‡ªå‹•å»ºç«‹é è¨­ä½¿ç”¨è€…ï¼Œæ‰€æœ‰ IndexedDB è³‡æ–™å­˜å–æ­£å¸¸é‹ä½œ
- ç§»é™¤è·¯ç”± auth guard èˆ‡ `/login` è·¯ç”±

#### ç•«åœ–è¾¨è­˜æ•ˆç‡æå‡ï¼ˆåƒç…§ SceneDAPRï¼‰

| æ”¹å–„é …ç›® | èªªæ˜ |
|---------|------|
| ğŸ› **ä¿®æ­£ getCenter è¨ˆç®— bug** | `scoring.js` ä¸­å¿ƒé»å…¬å¼ `(x + w) / 2` æ”¹ç‚ºæ­£ç¢ºçš„ `x + w / 2`ï¼Œä¿®æ­£æ‰€æœ‰è·é›¢èˆ‡é‡ç–Šåˆ¤æ–· |
| ğŸ¯ **Letterbox é è™•ç†** | åœ–ç‰‡ç¸®æ”¾æ”¹ç‚ºç­‰æ¯”ä¾‹ç¸®æ”¾ + ç°è‰²å¡«å…… (114, 114, 114)ï¼Œèˆ‡ SceneDAPR YOLOv8 è¨“ç·´æ–¹å¼ä¸€è‡´ï¼Œå¤§å¹…æå‡è¾¨è­˜æº–åº¦ |
| âš¡ **WebGL GPU åŠ é€Ÿ** | ONNX æ¨è«–å„ªå…ˆä½¿ç”¨ WebGL providerï¼Œæœ‰ GPU çš„è£ç½®é¡¯è‘—åŠ é€Ÿï¼›å¤±æ•—æ™‚è‡ªå‹• fallback è‡³ WASM |
| ğŸ—‘ï¸ **Canvas è¨˜æ†¶é«”å„ªåŒ–** | åœ–ç‰‡ä¾†æºè½‰æ›æ”¹ç”¨å¯é‡ç”¨ canvasï¼Œæ¸›å°‘æ¯æ¬¡è¾¨è­˜çš„è¨˜æ†¶é«”åˆ†é… |
| ğŸ”„ **NMS æ¼”ç®—æ³•å„ªåŒ–** | Non-Maximum Suppression å…§è¿´åœˆæ”¹ç‚ºåªéæ­·å¾ŒçºŒç´¢å¼•ï¼Œæ¸›å°‘ä¸å¿…è¦çš„ IoU è¨ˆç®— |
| ğŸš€ **æ¨¡å‹é ç†±æ©Ÿåˆ¶** | æ–°å¢ `warmupModel()` å‡½å¼ï¼Œå¯åœ¨æ‡‰ç”¨å•Ÿå‹•æ™‚é å…ˆè¼‰å…¥ ONNX æ¨¡å‹ä¸¦åŸ·è¡Œç©ºæ¨è«–ï¼Œæ¶ˆé™¤é¦–æ¬¡è¾¨è­˜å»¶é² |
